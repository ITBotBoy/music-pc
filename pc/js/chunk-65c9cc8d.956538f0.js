(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-65c9cc8d"],{"2e4b":function(t,e,s){},f7e3:function(t,e,s){"use strict";s("2e4b")},fddd:function(t,e,s){"use strict";s.r(e);s("8e6e"),s("ac6a"),s("456d"),s("28a5"),s("a481"),s("c5f6"),s("7514"),s("96cf");var i=s("1da1"),a=s("ade3"),n=s("5880"),r=s("0828"),c=s("ceb6"),l=s("aa67");function o(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var d,u,p={name:"PlayList",data:function(){return{show:!1,hash:"",pagePlayList:[],tabs:[{icon:"163",key:"163",color:"red",val:"网易云"},{icon:"qq",key:"qq",color:"green",val:"企鹅"}],selected:Object(r.b)("from")||l.a.get("playlist_from")||"163",inputQQ:l.a.get("qqId"),qqId:l.a.get("qqId"),inputNEId:l.a.get("neId"),neId:l.a.get("neId")}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?o(Object(s),!0).forEach((function(e){Object(a.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(n.mapGetters)({userList:"getUserList",allList:"getAllList",recommendList:"getRecommendList",user:"getUser",playingListId:"getPlayingListId",heartMode:"isHearMode",allSongs:"getAllSongs",isPlaying:"isPlaying",isPersonFM:"isPersonFM",qUserList:"getQUserList"})),watch:{$route:function(){this.hashChange()},selected:function(t){l.a.set("playlist_from",t),this.hashChange()},recommendList:function(){this.hashChange()},userList:function(t){var e=this.selected;t[e]&&!Object(r.b)("id")&&(this.pagePlayList=t[e].list.map((function(s){return t[e].obj[s]})))}},created:function(){var t=this;this.hashChange();var e=this.$route.path.substring(1);setTimeout((function(){return t.show=!0})),this.selected=Object(r.b)("from")||l.a.get("playlist_from")||"163",e.indexOf("playlist")>-1&&"migu"===this.selected&&(this.selected="163")},destroyed:function(){this.show=!1},methods:{hashChange:(u=Object(i.a)(regeneratorRuntime.mark((function t(){var e,s,i,a,n,l,o,d,u,p,h;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=["playlist","recommend"],s=this.$route.path.substring(1),this.hash=e.find((function(t){return s.indexOf(t)>-1})),i=this.selected,a=this.hash,n=this.user,l=this.inputQQ,o=this.neId,this.pagePlayList=[],u=Object(r.b)("id")||{163:n.userId||o,qq:l}[i],t.t0=a,t.next="recommend"===t.t0?9:"playlist"===t.t0?14:22;break;case 9:return t.next=11,Object(c.c)({api:"RECOMMEND_PLAYLIST",data:{login:Number(Boolean(n.userId)),_p:i}});case 11:return d=t.sent,this.pagePlayList=d.data,t.abrupt("break",22);case 14:if("migu"!==i){t.next=16;break}return t.abrupt("return",this.selected="163");case 16:if(!u){t.next=22;break}return t.next=19,Object(c.j)(u,this.selected);case 19:p=t.sent,h=p.list,this.pagePlayList=h;case 22:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)}),goTo:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected;this.$router.push("/playlist/detail?id=".concat(t,"&from=").concat(e))},toHeartMode:(d=Object(i.a)(regeneratorRuntime.mark((function t(e){var s,i,a,n,r,l,o,d,u,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.event.stopPropagation(),s=this.userList,i=this.allList,this.allSongs,this.user.userId){t.next=4;break}return t.abrupt("return",this.$message.warning("登录后才可以开启心动模式"));case 4:return a=s[163].favListId,n=(i[a]||[]).length>0?i[a]:i["163_daily"],r=n[Math.floor(Math.random(n.length))].replace("163_",""),l=e.split("_")[1],t.next=10,Object(c.c)({api:"GET_HEART_MODE",data:{pid:l,id:r,_p:"163"}});case 10:return o=t.sent,d=o.data,u=this.$store.dispatch,t.next=15,Object(c.l)(d);case 15:p=t.sent,u("updatePlayNow",this.allSongs[p[0]]),u("updatePlayingList",{list:p,listId:e,heart:!0}),u("updatePlayingStatus",!0),this.$message.success("心动模式启动～");case 20:case"end":return t.stop()}}),t,this)}))),function(t){return d.apply(this,arguments)}),playPersonFM:function(){var t=this,e=this.$store.dispatch,s=this.isPersonFM,i=this.allSongs,a=function s(a){t.allSongs[a]?e("updatePlayNow",i[a]):setTimeout((function(){return s(a)}),100)};s||Object(c.h)().then((function(t){var s=t.map((function(t){return t.id}));e("setPersonFM",s),a(s[0])}))},updateQQNum:function(){var t=this.inputQQ;this.qqId=t,l.a.set("qqId",t),this.hashChange()},updateNEId:function(){var t=this.inputNEId;this.neId=t,l.a.set("neId",t),this.hashChange()},numToStr:r.d,collectPlaylist:c.b}},h=(s("f7e3"),s("2877")),g=Object(h.a)(p,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"playlist-container "+(t.show&&"show")},[s("div",{staticClass:"right-select-tab-list"},t._l(t.tabs,(function(e,i){return e.hide!==t.hash?s("div",{key:e.icon,class:"tab-item-"+i+" c-"+e.color+" "+(t.selected===e.key&&"selected"),on:{click:function(s){t.selected=e.key}}},[s("i",{class:"iconfont icon-"+e.icon}),t._v("\n            "+t._s(e.val)+"\n        ")]):t._e()})),0),s("div",{staticClass:"playlist-list hide-scroll"},["playlist"===t.hash&&"163"===t.selected?s("div",{staticClass:"input-qq mb_20"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputNEId,expression:"inputNEId"}],attrs:{type:"text",placeholder:"官网个人主页链接中可获取id"},domProps:{value:t.inputNEId},on:{input:function(e){e.target.composing||(t.inputNEId=e.target.value)}}}),t.inputNEId!==t.neId?s("div",{staticClass:"update-btn",on:{click:t.updateNEId}},[t._v("更新")]):t._e()]):t._e(),t.user.userId||"playlist"!==t.hash||t.$route.query.id||t.neId||"163"!==t.selected?t._e():s("div",{staticClass:"text-center fc_fff ft_20",staticStyle:{"padding-top":"100px",opacity:"0.8","letter-spacing":"2px"}},[t._v("\n            登录/输入id 后可以查看个人歌单\n        ")]),"playlist"===t.hash&&"qq"===t.selected?s("div",{staticClass:"input-qq mb_20"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.inputQQ,expression:"inputQQ"}],attrs:{type:"text",placeholder:"输入 QQ号/wxuin 吧"},domProps:{value:t.inputQQ},on:{input:function(e){e.target.composing||(t.inputQQ=e.target.value)}}}),t.inputQQ!==t.qqId?s("div",{staticClass:"update-btn",on:{click:t.updateQQNum}},[t._v("更新")]):t._e()]):t._e(),t.qqId||"playlist"!==t.hash||"qq"!==t.selected?t._e():s("div",{staticClass:"text-center fc_fff ft_20",staticStyle:{"padding-top":"100px",opacity:"0.8","letter-spacing":"2px"}},[t._v("\n            输入 QQ号/wxuin 可查看个人歌单\n        ")]),t.allList[t.selected+"_daily"]&&!t.$route.query.id?s("div",{class:"playlist-item "+(t.playingListId===t.selected+"_daily"&&"playing"),on:{click:function(e){return t.goTo("daily",t.selected)}}},[s("div",{staticClass:"list-img",staticStyle:{border:"1px solid #fff5","text-align":"center"}},[t._v("\n                "+t._s((new Date).getDate())+"\n            ")]),s("span",{staticClass:"list-name"},[t._v("每日推荐")]),s("span",{staticClass:"list-count"},[t._v(t._s(t.allList[t.selected+"_daily"].length))]),t.playingListId===t.selected+"_daily"&&t.isPlaying?s("div",{staticClass:"playing-item-bg"},t._l(new Array(100),(function(t,e){return s("div",{key:"bg-item-"+e,class:"playing-bg-"+e},[s("div",{staticClass:"bg-item-inside"})])})),0):t._e()]):t._e(),t._l(t.pagePlayList,(function(e){return s("div",{key:"playlist-"+e.id,class:"playlist-item "+(t.playingListId===e.listId&&"playing"),on:{click:function(s){return t.goTo(e.id)}}},[t.playingListId==e.listId&&t.isPlaying?s("div",{staticClass:"playing-item-bg"},t._l(new Array(100),(function(t,e){return s("div",{key:"bg-item-"+e,class:"playing-bg-"+e},[s("div",{staticClass:"bg-item-inside"})])})),0):t._e(),s("img",{staticClass:"list-bg-img",attrs:{src:e.cover+"?param=50y50"}}),s("img",{staticClass:"list-img",attrs:{src:e.cover+"?param=200y200"}}),s("span",{staticClass:"list-name"},[t._v(t._s(e.name))]),s("span",{staticClass:"list-count"},[t._v(t._s(e.trackCount))]),s("div",{staticClass:"bottom-text"},["163"===t.selected&&t.user.userId&&t.userList[163]&&t.userList[163].favListId===e.listId?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"心动模式",placement:"top"}},[s("i",{class:"iconfont icon-heart heart-btn "+(t.heartMode&&"hearting"),on:{click:function(s){return t.toHeartMode(e.listId)}}})]):t._e(),t.userList[t.selected]&&!t.userList[t.selected].mine[e.listId]?s("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.userList[t.selected].sub[e.listId]?"已收藏":"收藏",placement:"top"}},[s("i",{class:"collect-btn iconfont icon-"+(t.userList[t.selected].sub[e.listId]?"collected":"collect"),on:{click:function(s){return t.collectPlaylist(e)}}})]):t._e(),e.creator&&e.creator.nick?s("span",{staticClass:"list-creator"},[t._v("\n      By: "),s("a",[t._v(t._s(e.creator.nick))]),e.playCount?s("span",{staticClass:"pl_20"},[s("i",{staticClass:"iconfont icon-yinyue"}),t._v(": "+t._s(t.numToStr(e.playCount)))]):t._e()]):t._e()],1)])}))],2)])}),[],!1,null,"6e10a9a0",null);e.default=g.exports}}]);