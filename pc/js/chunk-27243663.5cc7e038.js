(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-27243663"],{9274:function(t,e,s){"use strict";s("ca35")},ca35:function(t,e,s){},f138:function(t,e,s){"use strict";s.r(e);s("8e6e"),s("c5f6"),s("20d6"),s("456d"),s("ac6a"),s("8615");var i=s("ade3"),a=s("5880"),r=s("aa67");function n(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,i)}return s}var c={name:"Simple",data:function(){return{lyricKey:0,startKey:0,lyricList:[],showTrans:"1"===r.a.get("SHOW_SIMPLE_TRANS"),showCover:"1"===r.a.get("SHOW_SIMPLE_COVER")}},computed:function(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?n(Object(s),!0).forEach((function(e){Object(i.a)(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):n(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}({},Object(a.mapGetters)({playNow:"getPlaying",allSongs:"getAllSongs",percent:"getPlayingPercent"})),created:function(){var t=this.$store.dispatch;t("updateShowCover",!1),t("updateMode","simple"),this.lyricList=Object.values(this.playNow.lyric||{})||[],this.renderLyric()},watch:{playNow:function(t){this.lyricKey=0,this.startKey=-1,this.lyricList=Object.values(t.lyric||{})||[]},percent:function(){this.renderLyric()}},methods:{renderLyric:function(){var t=this.playNow.lyric;if(t){var e=Object.keys(t),s=1e3*document.getElementsByClassName("played-audio")[0].currentTime,i=e.findIndex((function(t){return t-300>=s})),a=s,r=0;switch(i){case e.length-1:a=e.length-1,r=e.length-2;break;case-1:a=e.length,r=e.length-1;break;case 0:a=0,r=0;break;default:r=(a=i)-1}this.lyricKey=a-1,this.startKey=r-1}},updateShowTrans:function(){this.showTrans=!this.showTrans,r.a.set("SHOW_LRC_TRANS",Number(this.showTrans))},updateSetting:function(t){var e="show".concat(t);this[e]=!this[e],r.a.set("SHOW_SIMPLE_".concat(t.toUpperCase()),Number(this[e]))}}},l=(s("9274"),s("2877")),o=Object(l.a)(c,(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{class:"simple-container "+(!t.showCover&&"hide-cover")},[s("div",{staticClass:"img-container"},[s("img",{staticClass:"song-img",attrs:{src:t.playNow.al.picUrl,alt:""}})]),t.allSongs[t.playNow.aId]?s("div",{staticClass:"song-info"},[s("div",{staticClass:"d-table"},[s("div",{staticClass:"d-table-cell"},[s("div",{staticClass:"song-name"},[t._v(t._s(t.playNow.name))]),s("div",{staticClass:"song-artist"},t._l(t.playNow.ar,(function(e){return s("span",{key:e.id},[t._v(t._s(e.name)+" ")])})),0),t.playNow.lyric?s("div",{staticClass:"song-lyric"},[t.playNow.rawTrans&&t.showTrans?s("div",[t.lyricList[t.startKey+1]?s("div",{staticClass:"lyric-item"},[t._v("\n              "+t._s(t.lyricList[t.startKey+1].str)+"\n            ")]):t._e(),s("div",{staticClass:"lyric-item"}),t.lyricList[t.startKey+1]?s("div",{staticClass:"lyric-item"},[t._v("\n              "+t._s(t.lyricList[t.startKey+1].trans)+"\n            ")]):t._e()]):s("div",t._l([t.startKey,t.startKey+1,t.startKey+2],(function(e){return t.lyricList[e]?s("div",{key:"lyric-"+e,class:"lyric-item "+(t.lyricKey===e&&"active")},[t._v("\n              "+t._s(t.lyricList[e].str)+"\n            ")]):t._e()})),0)]):t._e(),s("div",{staticClass:"page-right-btn",on:{click:function(e){return t.updateSetting("Trans")}}},[t.playNow.rawTrans?s("div",{staticClass:"right-btn"},[s("div",{staticClass:"iconfont icon-trans",staticStyle:{"font-size":"28px"}},[t.showTrans?t._e():s("div",{staticClass:"hide-trans"})]),s("div",{staticClass:"txt-btn"},[t._v("翻译")])]):t._e(),s("div",{staticClass:"right-btn",on:{click:function(e){return t.updateSetting("Cover")}}},[s("div",{staticClass:"iconfont icon-cover"},[t.showCover?t._e():s("div",{staticClass:"hide-trans"})]),s("div",{staticClass:"txt-btn"},[t._v("封面")])])])])])]):t._e()])}),[],!1,null,null,null);e.default=o.exports}}]);